!function(e){if("function"!=typeof MediumEditor)throw new Error("Medium Editor is not loaded on the page.");var t=function(e,t){function n(e){for(var t=e.children,r=0;r<t.length;++r){var i=t[r],o=i.querySelector("br");o&&o.remove(),!i.innerHTML.trim()&&i.remove();var s=t[r-1];if(/^UL|OL$/.test(i.tagName)){try{s.appendChild(i)}catch(e){console.warn(e)}n(i)}}}"function"==typeof e&&(t=e,e={}),e=Object(e),e.events=e.events||["input","change"],t=t||e.callback||function(){};var r=e.toMarkdownOptions=Object(e.toMarkdownOptions);r.converters=r.converters||[],e.ignoreBuiltInConverters||r.converters.push({filter:function(e){return"DIV"===e.nodeName&&!e.attributes.length},replacement:function(e){return e}}),this.init=function(){if(this.base.elements&&this.base.elements.length){this.element=this.base.elements[0];var r=function(){for(var r=this.element.cloneNode(!0),i=r.querySelectorAll("ul, ol"),o=0;o<i.length;++o)n(i[o]);t(toMarkdown(r.innerHTML,e.toMarkdownOptions).split("\n").map(function(e){return e.trimRight()}).join("\n").trimRight())}.bind(this);e.events.forEach(function(e){this.element.addEventListener(e,r)}.bind(this)),r()}}};e.MeMarkdown=t}(this);